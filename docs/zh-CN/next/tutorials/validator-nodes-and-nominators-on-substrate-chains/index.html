<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Substrate链上的验证人节点和提名人 · Substrate Developer Hub (@5517ab14)</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;This document will walk you through steps to create a Substrate Node, integrate both the Substrate SRML &#x27;Staking&#x27; and &#x27;Referenda&#x27; Modules into the Substrate Node&#x27;s Runtime, and then become a validator or a nominator using a Substrate Node using &lt;a href=&quot;https://polkadot.js.org/apps/next/&quot;&gt;Polkadot-JS Apps&lt;/a&gt;.&lt;/p&gt;
"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="Substrate链上的验证人节点和提名人 · Substrate Developer Hub (@5517ab14)"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="&lt;p&gt;This document will walk you through steps to create a Substrate Node, integrate both the Substrate SRML &#x27;Staking&#x27; and &#x27;Referenda&#x27; Modules into the Substrate Node&#x27;s Runtime, and then become a validator or a nominator using a Substrate Node using &lt;a href=&quot;https://polkadot.js.org/apps/next/&quot;&gt;Polkadot-JS Apps&lt;/a&gt;.&lt;/p&gt;
"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)"/><h2 class="headerTitleWithLogo">Substrate Developer Hub (@5517ab14)</h2></a><a href="/zh-CN/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/zh-CN/docs" target="_self">文档</a></li><li class=""><a href="/recipes/" target="_self">Recipes</a></li><li class=""><a href="/zh-CN/tutorials" target="_self">教程</a></li><li class=""><a href="/zh-CN/community" target="_self">社区</a></li><li class=""><a href="https://github.com/paritytech/substrate" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/next/tutorials/validator-nodes-and-nominators-on-substrate-chains">English</a></li><li><a href="/docs/ru/next/tutorials/validator-nodes-and-nominators-on-substrate-chains">Русский</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">参与翻译</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/substrate-developer-hub/zh-CN" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Substrate链上的验证人节点和提名人</h1></header><article><div><span><p>This document will walk you through steps to create a Substrate Node, integrate both the Substrate SRML 'Staking' and 'Referenda' Modules into the Substrate Node's Runtime, and then become a validator or a nominator using a Substrate Node using <a href="https://polkadot.js.org/apps/next/">Polkadot-JS Apps</a>.</p>
<p>We include how <a href="https://youtu.be/26ucTSSaqog?t=5298">Dr Gavin Wood created a short Substrate address at the 2018 Dotcon-0 during the Web3 Summit</a></p>
<p>This tutorial will be written for a Mac OS X machine, and may require some tweaks to get it working on other operating systems.</p>
<h2><a class="anchor" aria-hidden="true" id="prerequisites"></a><a href="#prerequisites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2>
<h3><a class="anchor" aria-hidden="true" id="setup-code-directories"></a><a href="#setup-code-directories" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Code Directories</h3>
<p>We'll be using code from the following Parity Github repositories:</p>
<ul>
<li><a href="https://github.com/paritytech">https://github.com/paritytech</a></li>
<li><a href="https://github.com/polkadot-js">https://github.com/polkadot-js</a></li>
</ul>
<p>So we'll start by creating subdirectories to organise the code that we'll be downloading from them. We'll namespace them to match the Github usernames:</p>
<pre><code class="hljs css language-bash"><span class="token function">mkdir</span> -p ~/code/paritytech ~/code/polkadot-js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="setup-substrate-node-and-substrate-ui"></a><a href="#setup-substrate-node-and-substrate-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Substrate Node and Substrate UI</h3>
<p>Run the following command to install Substrate.</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech
<span class="token function">curl</span> https://getsubstrate.io -sSf <span class="token operator">|</span> sh
</code></pre>
<p>You will also need to set up a few more repositories into your working folder which were used in the demo:</p>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/master/node-template/">Substrate Node Template</a></li>
<li><a href="https://github.com/paritytech/substrate-ui">Substrate UI</a></li>
<li><a href="https://github.com/polkadot-js/apps">Polkadot-JS Apps</a></li>
</ul>
<p>You can do that with some <a href="https://github.com/paritytech/substrate-up">script aliases</a> that were loaded on your machine:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech
substrate-node-new my-substrate-node-template-1 my-name
substrate-ui-new substrate my-substrate-node-template-1
</code></pre>
<p>This will create folders called <code>my-substrate-node-template-1</code> and <code>substrate-ui</code> within directory ~/code/paritytech, with the corresponding repositories cloned in them. You can of course rename your projects in these commands, but for the sake of the clarity, we will continue with these folder names.</p>
<h3><a class="anchor" aria-hidden="true" id="setup-polkadot-js-apps"></a><a href="#setup-polkadot-js-apps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Polkadot-JS Apps</h3>
<p>We'll also run a couple of other script aliases to install necessary dependencies (Xcode Command Line Tools, Homebrew, Homebrew Cask, RBEnv, Ruby, NVM and Node.js latest LTS, Yarn,) and create a folder called <code>apps</code> within directory ~/code/polkadot-js, containing a clone of the Polkadot-JS Apps repository with a branch that supports PoC-3:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/polkadot-js
polkadot-js-apps-new
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-1-integrate-substrate-srml-referenda-and-staking-modules-into-the-substrate-node-s-runtime"></a><a href="#step-1-integrate-substrate-srml-referenda-and-staking-modules-into-the-substrate-node-s-runtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Integrate Substrate SRML 'Referenda' and 'Staking' Modules into the Substrate Node's Runtime</h2>
<p>We're keen to use some 'governance' and 'staking' mechanisms, but we're stumped because we can't find anything related in the <a href="https://github.com/paritytech/substrate/blob/master/node-template/">Substrate Node Template</a> code that we used to create a minimal Substrate Node chain. <img src="https://files.readme.io/7dcac0b-Screen_Shot_2018-11-18_at_15.31.36.png" alt="todo"></p>
<p>Fortunately we were tipped by an insider who confirmed that the 'democracy' and 'staking' modules that we need aren't yet contained in the Substrate Node's Runtime that we setup in the directory <code>~/code/paritytech/my-substrate-node-template-1</code>.</p>
<p>We're reminded of the advantages of the Substrate (<a href="/docs/zh-CN/next/overview/glossary#srml-substrate-runtime-module-library">SRML</a>). We'd like to plugin the 'Referenda' Module and the 'Staking' Module and associated configuration from this library into our Substrate Node's Runtime, and then tweak it to our liking.</p>
<p><img src="https://files.readme.io/ebdb5e9-53b8dc8-Screen_Shot_2018-11-18_at_15.31.20.png" alt="todo"></p>
<ul>
<li><strong>FIXME</strong>: Show how to integrate 'referenda' and 'staking' module and configuration into the Runtime of 'my-substrate-node-template-1'</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-2-launch-a-substrate-blockchain-node"></a><a href="#step-2-launch-a-substrate-blockchain-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Launch a Substrate Blockchain Node</h2>
<p>If you have set up everything correctly, you can now start a Substrate chain! In directory 'my-substrate-node-template-1' run the following and it will be published on <a href="https://telemetry.polkadot.io">Telemetry</a>:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech/my-substrate-node-template-1
./target/release/my-substrate-node-template-1 \
  --telemetry \
  --chain dev \
  --name <span class="token string">"My Substrate Node 1"</span> \
  --telemetry-url ws://telemetry.polkadot.io:1024
</code></pre>
<p>To find out more information about each option run <code>./target/release/my-substrate-node-template-1 --help</code></p>
<blockquote>
<p>If you run into an error like <code>Error: UnknownBlock: Unknown block Hash(...)</code>, you will need to purge the chain files on your computer, with either of the following commands: <code>cargo run -- --dev purge-chain --dev</code> or <code>rm -rf ~/Library/Application\\ Support/Substrate/chains/development/</code></p>
</blockquote>
<pre><code class="hljs css language-bash">cargo run -- --dev purge-chain --dev
</code></pre>
<p>If everything is working it should start producing blocks, as shown below:</p>
<ul>
<li><strong>FIXME</strong> - Update screenshot to show it building blocks <img src="https://files.readme.io/8bec369-Screen_Shot_2018-11-18_at_09.59.45.png" alt=""></li>
</ul>
<blockquote>
<p><strong>Kill Substrate Node</strong></p>
<p>If you want to stop running your Substrate node, you can press CTRL+C, however it will not kill the process immediately. You can kill it immediately with the following command:</p>
</blockquote>
<pre><code class="hljs css language-bash"><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> ./target/release <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==1{print <span class="token variable">$2</span>}'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">xargs</span> <span class="token function">kill</span> -9
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-3-launch-ui-of-polkadot-js-apps"></a><a href="#step-3-launch-ui-of-polkadot-js-apps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Launch UI of Polkadot-JS Apps</h2>
<p>To interact with the Substrate Node, we'll start the UI of Polkadot JS Apps.</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/polkadot-js/apps
<span class="token function">yarn</span> run start
</code></pre>
<p>Open your browser to <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<p>Go to the 'Settings' menu item. Select option 'Local Node (127.0.0.1:9944)', then click 'Save &amp; Reload'. <img src="https://files.readme.io/af1e821-d75fe2b-Screen_Shot_2018-11-14_at_13.59.34.png" alt=""></p>
<p>It will connect to the local Substrate Node that you're running and update the UI with additional menu items, as shown below: <img src="https://files.readme.io/1e0fdc1-e2836dc-Screen_Shot_2018-11-16_at_11.02.31.png" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="step-4-create-an-account"></a><a href="#step-4-create-an-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: Create an Account</h2>
<h3><a class="anchor" aria-hidden="true" id="short-address"></a><a href="#short-address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Short Address</h3>
<ul>
<li><strong>FIXME</strong> Show how to create short or long address with Substrate UI. Add explanation about the short address. Show how to use subkey to generate the 'Raw Seed'</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="long-address"></a><a href="#long-address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Long Address</h3>
<ul>
<li><strong>FIXME</strong> Show how to create long address with Polkadot-JS Apps</li>
</ul>
<p>When creating your account, select 'Raw Seed' from the selection box under label 'create from the following seed (hex or string)'.</p>
<h2><a class="anchor" aria-hidden="true" id="step-5-view-validators-and-validator-intentions"></a><a href="#step-5-view-validators-and-validator-intentions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 5: View Validators and Validator Intentions</h2>
<p><strong>Option 1:</strong></p>
<ul>
<li>Go to Staking tab at: <a href="http://localhost:3000/#/staking">http://localhost:3000/#/staking</a></li>
<li>Click &quot;Staking Overview&quot; that shows Validators and Validator Intentions</li>
</ul>
<p><strong>Option 2:</strong></p>
<ul>
<li>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></li>
<li>Choose: session &gt; validators()</li>
<li>Choose: staking &gt; intentions()</li>
<li>Reference: <a href="https://polkadot.js.org/api/METHODS_STORAGE.html#session">https://polkadot.js.org/api/METHODS_STORAGE.html#session</a></li>
</ul>
<p><strong>Option 3:</strong></p>
<ul>
<li><a href="https://telemetry.polkadot.io">Telemetry</a> - <a href="https://telemetry.polkadot.io">https://telemetry.polkadot.io</a></li>
</ul>
<p><strong>Option 4:</strong></p>
<ul>
<li>View Chain Specification Configuration in Substrate source code</li>
</ul>
<p><strong>Option 5:</strong></p>
<ul>
<li><p><a href="http://gav.polkadot.io/">Polkadash</a> - <a href="http://gav.polkadot.io/">http://gav.polkadot.io/</a></p>
<ul>
<li><strong>FIXME</strong> Add screenshots</li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-6-obtain-initial-dots"></a><a href="#step-6-obtain-initial-dots" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 6: Obtain Initial DOTs</h2>
<p>Request testnet DOTs. Join the Riot Channel named <a href="https://riot.im/app/#/room/#polkadot-watercooler:matrix.org">Polkadot Watercooler</a></p>
<h2><a class="anchor" aria-hidden="true" id="step-7-restart-substrate-node-with-validator-configuration"></a><a href="#step-7-restart-substrate-node-with-validator-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 7: Restart Substrate Node with Validator Configuration</h2>
<p>With your Substrate Account address obtained (including Seed Key in Hex) and now that you've staked DOTs to be a Validator Intention, we're going to restart our Substrate Node so that it's recognised as a Validator Substrate Node:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech/my-substrate-node-template-1
./target/release/my-substrate-node-template-1 \
  --validator \
  --telemetry \
  --chain dev \
  --key <span class="token operator">&lt;</span>INSERT_ACCOUNT_SEED_KEY<span class="token operator">></span> \
  --name <span class="token string">"My Substrate Node 1"</span> \
  --node-key <span class="token string">"&lt;INSERT_NODE_SECRET_KEY>"</span> \
  --telemetry-url ws://telemetry.polkadot.io:1024
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-8-earn-dots"></a><a href="#step-8-earn-dots" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 8: Earn DOTs</h2>
<h3><a class="anchor" aria-hidden="true" id="nominator-rewards"></a><a href="#nominator-rewards" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nominator Rewards</h3>
<p>Next step after creating a Substrate Account and obtaining some initial DOTs is earning more DOTs to elevate your stake and influence.</p>
<blockquote>
<p>Nominating <code>nominate(target)</code> an existing Validator by locking away some of your DOTs as stake may result in the reward of DOTs if your chosen Validator maintains compliance, otherwise you will lose DOTs.</p>
<p><strong>Un-Nominating a Validator</strong></p>
<p>&quot;body&quot;: &quot;Un-Nominating <code>unnominator(target_index)</code> may be performed at any time to unlock your funds, and is effective at the next Era.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="nominate-a-validator-or-validator-intention"></a><a href="#nominate-a-validator-or-validator-intention" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nominate a Validator or Validator Intention</h4>
<p><strong>Option 1</strong></p>
<ul>
<li><p>Go to Staking tab at: <a href="http://localhost:3000/#/staking">http://localhost:3000/#/staking</a></p></li>
<li><p>Click &quot;Account Actions&quot; where it displays all your accounts</p></li>
<li><p>Choose an account to: Nominate a Validator or Validator Intention account address</p>
<ul>
<li><strong>FIXME</strong> Add screenshot</li>
</ul></li>
</ul>
<p><strong>Option 2</strong></p>
<ul>
<li>Go to Extrinsics tab at: <a href="http://localhost:3000/#/extrinsics">http://localhost:3000/#/extrinsics</a></li>
<li>Select for &quot;Account&quot;: BOB (associated test DOT balance is shown on the right)</li>
<li>Select for &quot;Extrinsic Section&quot;: staking</li>
<li>Select for &quot;Submit the Following Extrinsic&quot;: nominate(target)</li>
<li>Select for &quot;target: Address&quot;: ALICE (Validator identified in previous step</li>
<li>Click &quot;Submit Transaction&quot; to add the extrinsic into the 'pending' extrinsics queue.</li>
<li>Check that the toaster that appears says &quot;author.submitExtrinsic sent&quot;</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="view-nominator-information"></a><a href="#view-nominator-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View Nominator Information</h4>
<ul>
<li>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></li>
<li>Choose: staking &gt; <code>nominating(AccountId): AccountId</code></li>
<li>Choose: staking &gt; <code>nominatorsFor(AccountId): AccountId</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="validator-rewards"></a><a href="#validator-rewards" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validator Rewards</h3>
<p>Validator Intentions are Authorities that have staked their DOTs to potentially become future Validators.</p>
<h4><a class="anchor" aria-hidden="true" id="validator-intention-registration"></a><a href="#validator-intention-registration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validator Intention Registration</h4>
<p><strong>Option 1</strong></p>
<ul>
<li><p>Go to Staking tab at: <a href="http://localhost:3000/#/staking">http://localhost:3000/#/staking</a></p></li>
<li><p>Click &quot;Account Actions&quot; where it displays all your accounts</p></li>
<li><p>Choose an account to:</p>
<ul>
<li><p>Stake your DOT balance</p></li>
<li><p><strong>FIXME</strong> Add screenshot</p></li>
</ul></li>
</ul>
<p><strong>Option 2</strong></p>
<ul>
<li>Go to Extrinsics tab at: <a href="http://localhost:3000/#/extrinsics">http://localhost:3000/#/extrinsics</a></li>
<li>Select for &quot;Account&quot;: BOB (associated test DOT balance is shown on the right)</li>
<li>Select for &quot;Extrinsic Section&quot;: staking</li>
<li>Select for &quot;Submit the Following Extrinsic&quot;: <code>stake()</code></li>
<li>Click &quot;Submit Transaction&quot;</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="view-validator-intentions-information"></a><a href="#view-validator-intentions-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View Validator Intentions Information</h4>
<ul>
<li>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></li>
<li>Choose: staking &gt; intentions(): <code>Vec&lt;AccountId&gt;</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="validators"></a><a href="#validators" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validators</h4>
<blockquote>
<p><strong>Validators</strong></p>
<p>Validators are Authorities that are staked and allowed to participate in the consensus mechanism to for block finality and production for a Substrate Node.</p>
<p>Validator are required to run their Substrate Node online 24/7 synchronising to the best block with integrity to maintain compliance.</p>
<p>Rewards are provided to compliant validators.</p>
<p>Non-compliances however, are punished by removal (slashing) of their staked DOTs to discourage bad actors.</p>
<p>Validator Intentions should ensure they are synchronised to the best block of the Substrate Node because otherwise if they are selected for a Validator slot they may lose it quickly.</p>
<p>Obtaining a copy of the chain database already synchronised to the best block may be much faster than waiting a few days for it to synchronise for a new user.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="view-validator-information"></a><a href="#view-validator-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View Validator Information</h4>
<ul>
<li>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></li>
<li>Choose: session &gt; <code>validators(): Vec&lt;AccountId&gt;</code></li>
<li>Choose: staking &gt; <code>validatorCount(): u32</code></li>
<li>Choose: staking &gt; <code>bondage(AccountId): BlockNumber</code></li>
<li>Choose: staking &gt; <code>currentOfflineSlash(): Balance</code></li>
<li>Choose: staking &gt; <code>currentSessionReward(): Balance</code></li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#prerequisites">Prerequisites</a><ul class="toc-headings"><li><a href="#setup-code-directories">Setup Code Directories</a></li><li><a href="#setup-substrate-node-and-substrate-ui">Setup Substrate Node and Substrate UI</a></li><li><a href="#setup-polkadot-js-apps">Setup Polkadot-JS Apps</a></li></ul></li><li><a href="#step-1-integrate-substrate-srml-referenda-and-staking-modules-into-the-substrate-node-s-runtime">Step 1: Integrate Substrate SRML 'Referenda' and 'Staking' Modules into the Substrate Node's Runtime</a></li><li><a href="#step-2-launch-a-substrate-blockchain-node">Step 2: Launch a Substrate Blockchain Node</a></li><li><a href="#step-3-launch-ui-of-polkadot-js-apps">Step 3: Launch UI of Polkadot-JS Apps</a></li><li><a href="#step-4-create-an-account">Step 4: Create an Account</a><ul class="toc-headings"><li><a href="#short-address">Short Address</a></li><li><a href="#long-address">Long Address</a></li></ul></li><li><a href="#step-5-view-validators-and-validator-intentions">Step 5: View Validators and Validator Intentions</a></li><li><a href="#step-6-obtain-initial-dots">Step 6: Obtain Initial DOTs</a></li><li><a href="#step-7-restart-substrate-node-with-validator-configuration">Step 7: Restart Substrate Node with Validator Configuration</a></li><li><a href="#step-8-earn-dots">Step 8: Earn DOTs</a><ul class="toc-headings"><li><a href="#nominator-rewards">Nominator Rewards</a></li><li><a href="#validator-rewards">Validator Rewards</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><div><style>
#blast {
  position: fixed;
  width: 100%;
  bottom: 0;
  height: 50px;
  background-image: url(/img/bg-sub01.svg); background-size: cover; background-position: right 0px bottom 500px;;
  color: #18FFB2;
  z-index: 99999;
  text-align: center;
  background-color: #000028;
  transition: background-color 0.2s;
}
#blast:hover {
  background-color: #E91E63;
}

#blast h2 {
  margin: 0;
  line-height: 50px;
}

#blast a {
  display: block;
  color: #18FFB2;
  text-decoration: underline;
  mix-blend-mode: lighten;
}

#blast img {
  max-height: 50px;
}

body {
  margin-bottom: 50px;
}
</style><section id="blast"><a href="https://sub0.parity.io" target="_blank"><img src="/img/sub0-blast.png" class="img-fluid"/></a></section></div><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-CN/getting-started">Getting Started</a><a href="/zh-CN/tutorials">Tutorials</a><a href="/rustdocs/v1.0/">Reference Docs</a><a href="/recipes/">Recipes</a></div><div><h5>Community</h5><a href="/zh-CN/videos">Videos</a><a href="/zh-CN/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="#" id="cookie-settings">Cookie Settings<script>
              var cookieSettings = document.getElementById('cookie-settings');
              cookieSettings.onclick = function() {
                return klaro.show();
              };
              </script></a></div></section><section class="copyright">Copyright © 2019 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-CN"]}
              });
            </script></body></html>