<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Start a Private Network with Substrate · Substrate Developer Hub (@5517ab14)</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;In this tutorial we will learn and practice how to start a blockchain network with a validator/authority set of your choosing using Substrate.&lt;/p&gt;
"/><meta name="docsearch:version" content="1.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Start a Private Network with Substrate · Substrate Developer Hub (@5517ab14)"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="&lt;p&gt;In this tutorial we will learn and practice how to start a blockchain network with a validator/authority set of your choosing using Substrate.&lt;/p&gt;
"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)"/><h2 class="headerTitleWithLogo">Substrate Developer Hub (@5517ab14)</h2></a><a href="/en/versions"><h3>1.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/en/docs" target="_self">Docs</a></li><li class=""><a href="/recipes/" target="_self">Recipes</a></li><li class=""><a href="/en/tutorials" target="_self">Tutorials</a></li><li class=""><a href="/en/community" target="_self">Community</a></li><li class=""><a href="https://github.com/paritytech/substrate" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ru/tutorials/start-a-private-network-with-substrate">Русский</a></li><li><a href="/docs/zh-CN/tutorials/start-a-private-network-with-substrate">中文</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io/edit/source/docs/tutorials/start-a-private-network-with-substrate.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Start a Private Network with Substrate</h1></header><article><div><span><p>In this tutorial we will learn and practice how to start a blockchain network with a validator/authority set of your choosing using Substrate.</p>
<p>You will need:</p>
<ol>
<li>A linux- or OSX-like shell</li>
<li>git</li>
</ol>
<p>You will learn to:</p>
<ol>
<li>Compile a Substrate node from source code.</li>
<li>Generate ed25519 key-pairs for use as a network authority</li>
<li>Create and edit a chainspec json file</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="compiling-the-tools"></a><a href="#compiling-the-tools" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compiling the Tools</h2>
<p>Substrate is an open source framework for building your own blockchain nodes. It can be used for a very wide variety of applications.</p>
<p>Substrate does not (yet) offer binary installation packages, so it must be compiled from source, which can be a time-consuming process. Commits go into the <a href="https://github.com/paritytech/substrate">Substrate repository</a> regularly and it is wise that everyone participating in this network have the same version of substrate to guarantee success. In practice similar but not identical versions will often work, but banking on that is a recipe for frustration. We'll be using the <code>v1.0</code> branch for more stability.</p>
<h3><a class="anchor" aria-hidden="true" id="your-first-time"></a><a href="#your-first-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Your First Time</h3>
<p>First we'll download the Substrate v1.0 code by cloning the git repository.</p>
<pre><code class="hljs css language-bash"><span class="token function">git</span> clone -b v1.0 https://github.com/paritytech/substrate
<span class="token function">cd</span> substrate
</code></pre>
<p>The repository includes a utility called <code>subkey</code> which we'll optionally  use to generate and inspect keypairs. Let's compile it first. The <code>--force</code> option means that we'll install this version over any previously installed versions.</p>
<pre><code class="hljs css language-bash">cargo <span class="token function">install</span> --force --path subkey subkey
</code></pre>
<p>Now let's compile the actual blockchain node that we'll be running. Because Substrate is a framework, most real-world blockchains that use it will write custom runtime code. There are <a href="/tutorials/">other tutorials</a> that cover that process in detail. Luckily the Substrate repository itself already comes with two ready-to-run node environments. The first lives in the <code>node</code> directory and includes many features to be a practical blockchain. In fact it looks quite similar to <a href="https://polkadot.network">Polkadot</a> which is also built on Substrate. The second is a minimalistic runtime that lives in the <code>node-template</code> directory. We'll be using the node template in this tutorial because of its simplicity and because it is the usual starting point when writing your own custom runtime.</p>
<pre><code class="hljs css language-bash"><span class="token comment"># Switch to node-template directory</span>
<span class="token function">cd</span> node-template

<span class="token comment"># Ensure your Rust toolchain is up to date</span>
./scripts/init.sh

<span class="token comment"># Compile the Wasm version of the runtime code</span>
./scripts/build.sh

<span class="token comment"># Compile the native version of the node</span>
cargo build --release
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="updating-later"></a><a href="#updating-later" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating Later</h3>
<p>When updating or changing Substrate versions, the process is similar, but the builds are much faster. Start by grabbing all the latest code, even if you will ultimately use an older version.</p>
<pre><code class="hljs css language-bash"><span class="token comment"># Ensure you're on the v1.0 branch</span>
<span class="token function">git</span> checkout v1.0

<span class="token comment"># Grab the latest code</span>
<span class="token function">git</span> pull
</code></pre>
<p>Subkey doesn't change nearly as quickly as Substrate itself, so you can often skip rebuilding it. If your get checksum errors or key-compatibility errors, ensure subkey is up to date.</p>
<pre><code class="hljs css language-bash"><span class="token comment"># Optional: Rebuild subkey</span>
cargo <span class="token function">install</span> --force --path subkey subkey
</code></pre>
<p>Now we're ready to rebuild the node template. This process is identical to before, but will run much faster, because only the parts of the code that have actually changed will be recompiled.</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> node-template
./scripts/init.sh
./scripts/build.sh
cargo build --release
</code></pre>
<blockquote>
<p>Protip: If you'd like <code>node-template</code> to end up on your path, you may use <code>cargo install</code> instead of <code>cargo build</code> in the last step.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="alice-and-bob-start-blockchain"></a><a href="#alice-and-bob-start-blockchain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alice and Bob Start Blockchain</h2>
<p>Before we generate our own keys, and start a truly unique Substrate network, let's learn the fundamentals by starting with a pre-defined network specification called <code>local</code> with two pre-defined (and definitely not private!) keys known as Alice and Bob.</p>
<h3><a class="anchor" aria-hidden="true" id="alice-starts-first"></a><a href="#alice-starts-first" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alice Starts first</h3>
<p>Alice (or whomever is playing her) should run this command from Substrate repository root.</p>
<pre><code class="hljs css language-bash"><span class="token comment"># If you're still in node-template/</span>
<span class="token function">cd</span> <span class="token punctuation">..</span>

<span class="token comment"># Start the node</span>
./target/release/node-template \
  --base-path /tmp/alice \
  --chain<span class="token operator">=</span>local \
  --key //Alice \
  --port 30333 \
  --telemetry-url ws://telemetry.polkadot.io:1024 \
  --validator \
  --name AlicesNode
</code></pre>
<p>Let's look at those flags in detail:</p>
<ul>
<li><code>--base-path</code> Specifies a directory where Substrate should store all the data related to this chain. If the directory does not exist it will be created for you. If other blockchain data already exists there you will get an error. Either clear the directory or choose a different one.</li>
<li><code>--chain=local</code> Specifies which chain specification to use. There are a few pre-packaged options including <code>local</code> <code>development</code> and <code>staging</code> but generally one specifies their own chainspec file. We'll specify our own file in a later step.</li>
<li><code>--key //Alice</code> Specifies that we're using the pre-packaged Alice key as a validator on this node. Generally one should generate their own key with <code>subkey</code> and then the flag would look like <code>--key &quot;enroll mechanic science ...&quot;&quot;</code>. We'll generate our own keys in a later step.</li>
<li><code>--port 30333</code> Specifies the port that your node will listen for p2p traffic on. 30333 is the default and this flag can be omitted if you're happy with the default. If Bob's node will run on the same physical system, you will need to explicitly specify a different port for it.</li>
<li><code>--telemetry-url</code> Tells the node to send telemetry data to a particular server. The one we've chosen here is hosted by Parity and is available for anyone to use. You may host your own (beyond the scope of this article) or omit this flag entirely.</li>
<li><code>--validator</code> Means that we want to participate in block production rather than just sync the network.</li>
<li><code>--name</code> Attaches a human readable name to the node. This flag is optional and if you omit it a human-readable name will be generated for you. If you aren't using telemetry, you likely won't find much value in assigning a name to the node.</li>
</ul>
<p>When the node starts you should see output similar to this.</p>
<pre><code class="hljs"><span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Substrate Node
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span>   version <span class="token number">1.0</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token operator">-</span>17dcbe6c<span class="token operator">-</span>x86_64<span class="token operator">-</span>linux<span class="token operator">-</span>gnu
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span>   by Anonymous<span class="token punctuation">,</span> <span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">2018</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Chain specification<span class="token punctuation">:</span> Local Testnet
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Node name<span class="token punctuation">:</span> AlicesNode
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Roles<span class="token punctuation">:</span> FULL
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Generated a new keypair<span class="token punctuation">:</span> <span class="token function">3520cafa56767704a32b27c351851b9f0dba7dec34e79e4165b10b89dce98a9c</span> <span class="token punctuation">(</span>5DGN8sgD<span class="token punctuation">...</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Best block<span class="token punctuation">:</span> #<span class="token number">0</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Using default protocol ID <span class="token string">"sup"</span> because none is configured <span class="token keyword">in</span> the chain specs
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Local node identity is<span class="token punctuation">:</span> QmNTx7qYd5JiasUTzjaAbTCUeH5ot9xMjRePRjkSEdD7MY
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Libp2p <span class="token operator">=></span> Random Kademlia query has yielded empty results
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">38</span> Listening <span class="token keyword">for</span> new connections on <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9944</span><span class="token punctuation">.</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">41</span> Libp2p <span class="token operator">=></span> Random Kademlia query has yielded empty results
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">43</span> <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">0</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x8a3c</span>…b693<span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0xdb6e</span>…679d<span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span> ⬆ <span class="token number">0</span>
</code></pre>
<p>A few lines to take note of:
<code>Node name: AlicesNode</code> shows the human-readable name you specified or an autogenerated one
<code>Local node identity is: QmNTx7qYd5JiasUTzjaAbTCUeH5ot9xMjRePRjkSEdD7MY</code> shows the node ID that Bob will need when booting from Alice's node
<code>Listening for new connections on 127.0.0.1:9944.</code> shows that the node is listening for RPC connections on port 9944. By default only connections from localhost will be accepted, but you can change that behavior by specifying <code>--ws-external</code>. You can change the port by specifying <code>--ws-port 12345</code>.</p>
<p>More details about all of these flags and others that I haven't mentioned are available by running <code>./target/release/node-template --help</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="attach-a-ui"></a><a href="#attach-a-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attach a UI</h3>
<p>You can tell a lot about your node by watching the output it produces in your terminal. There is also a nice graphical user interface known as the <a href="https://polkadot.js.org/apps/">Polkadot Js Apps UI</a> which you can connect to your node. That link goes to the hosted version of the user interface, which is super convenient when it works, but is often out of date compared to the version of Substrate you're running. In the likely scenario that the hosted interface is out of date, you can run the interface locally by grabbing the code from <a href="https://github.com/polkadot-js/apps">github</a>. In general the instructions in that repository will be your best guide, but the process should be something like this.</p>
<pre><code class="hljs css language-bash"><span class="token comment"># Grab the code</span>
<span class="token function">git</span> clone https://github.com/polkadot-js/apps
<span class="token function">cd</span> apps

<span class="token comment"># Install dependencies (you MUST use yarn, not npm)</span>
<span class="token function">yarn</span>

<span class="token comment"># Start the project</span>
<span class="token function">yarn</span> run start
</code></pre>
<p>Point your favorite web browser at localhost:3000, and on the settings page, choose &quot;local node&quot;. You should see something like this.</p>
<p><img src="https://cdn.discordapp.com/attachments/559788157239951376/580368220364603392/unknown.png" alt="No blocks in polkadot-js-apps"></p>
<p>You'll notice, both in the terminal and the UI, that no blocks are being produced yet. Curious learners can <a href="https://github.com/paritytech/substrate/blob/ae350506053b186a15fe5ffe2c1e85088b13a619/core/consensus/aura/src/lib.rs#L341">see why</a>. Blocks will start being produced once another validator joins the network.</p>
<h3><a class="anchor" aria-hidden="true" id="bob-joins-in"></a><a href="#bob-joins-in" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bob Joins In</h3>
<p>Now that Alice's node is up and running, Bob can join the network by bootstrapping from her node. His command will look very similar.</p>
<pre><code class="hljs css language-bash">./target/release/node-template \
  --base-path /tmp/bob \
  --chain<span class="token operator">=</span>local \
  --key //Bob \
  --port 30333 \
  --telemetry-url ws://telemetry.polkadot.io:1024 \
  --validator \
  --name BobsNode \
  --bootnodes /ip4/<span class="token operator">&lt;</span>Alices IP Address<span class="token operator">></span>/tcp/<span class="token operator">&lt;</span>Alices Port<span class="token operator">></span>/p2p/<span class="token operator">&lt;</span>Alices Node ID<span class="token operator">></span>
</code></pre>
<p>Most of these options are already explained above, but there are a few tripping points.</p>
<ul>
<li>If these two nodes are running on the same physical machine, Bob MUST specify a different <code>--base-path</code> and <code>--port</code>.</li>
<li>Bob has added the <code>--bootnodes</code> flag and specified a single boot node, namely Alice's. He must correctly specify these three pieces of information which Alice can supply for him.
<ul>
<li>Alice's IP Address in the form <code>192.168.1.1</code></li>
<li>Alice's Port, probably 30333</li>
<li>Alice's node ID, copied from her log output. (<code>QmNTx7qYd5JiasUTzjaAbTCUeH5ot9xMjRePRjkSEdD7MY</code> in the output above.)</li>
</ul></li>
</ul>
<p>If all is going well, after a few seconds, the nodes should peer together and start producing blocks. You should see some lines like</p>
<pre><code class="hljs"><span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">1</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">1</span> <span class="token punctuation">(</span><span class="token number">0x9f1b</span>…9b57<span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x28be</span>…<span class="token number">45e5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">1</span><span class="token punctuation">.</span>7kiB<span class="token operator">/</span>s ⬆ <span class="token number">1</span><span class="token punctuation">.</span>4kiB<span class="token operator">/</span>s
</code></pre>
<p>This line shows that Bob has peered with Alice (<code>1 peers</code>), they have produced a block (<code>best: #1 (0x9f1b…9b57)</code>), and the block is not finalized (<code>finalized #0 (0x28be…45e5)</code>). In this network, only the genesis block will ever be finalized because there is no finality gadget in the node-template. Finality is beyond the scope of this tutorial.</p>
<h2><a class="anchor" aria-hidden="true" id="generate-your-own-keys"></a><a href="#generate-your-own-keys" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generate Your Own Keys</h2>
<p>Now that we know the fundamentals and the command line options, it's time to generate our own keys rather than using the well-known Alice and Bob keys.</p>
<p>Each person who wants to participate in the blockchain can generate their own key using the <a href="ecosystem/subkey">subkey tool</a> or the Polkadot JS Apps UI that we used previously. In this tutorial, we'll use the UI.</p>
<p>Navigate to the &quot;Accounts&quot; tab, and choose &quot;Add Account&quot;. For this kind of session key, we'll need to select Edwards Curve near the bottom, and copy-paste the public address and the raw seed.</p>
<p><img src="https://cdn.discordapp.com/attachments/559788157239951376/583363719753367567/unknown.png" alt="Screenshot of key generation"></p>
<p>When you have generated a key pair, store the entire output somewhere safe. Share your public address with the other validators who will be in your network. When everyone in the network knows everyone else's addresses, you can proceed to launch your own chain.</p>
<h2><a class="anchor" aria-hidden="true" id="start-your-private-blockchain"></a><a href="#start-your-private-blockchain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start Your Private Blockchain</h2>
<p>Last time around, we used <code>--chain=local</code> which is a predefined &quot;chainspec&quot; that has Alice and Bob specified as validators along with many other useful defaults.</p>
<h3><a class="anchor" aria-hidden="true" id="creating-the-chainspec"></a><a href="#creating-the-chainspec" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating the chainspec</h3>
<p>Rather than writing our chainspec completely from scratch, we'll just make a few modifications to the the one we used before. To start we need to export the chainspec to a json file. Remember, further details about all of these commands are available by running <code>node-template --help</code>.</p>
<pre><code class="hljs css language-bash">./target/release/node-template build-spec --chain<span class="token operator">=</span>local <span class="token operator">></span> customSpec.json
</code></pre>
<p>The file we just created contains several fields, and one can learn a lot by exploring them. By far the largest field is a single hex number that is the Wasm binary of our runtime. It is what you built earlier when you ran the <code>build.sh</code> script. Learn more about why it's useful to have that info on-chain from <a href="https://www.youtube.com/watch?v=0IoUZdDi5Is">Gav's web3 summit demo</a>.</p>
<p>The portion of the file we're interested in is the authorities which looks like this</p>
<pre><code class="hljs css language-json">  <span class="token property">"consensus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"authorities"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"5FA9nQDVg267DEd8m1ZypXLBnvN7SFxYwV7ndqSYGiN9TTpu"</span><span class="token punctuation">,</span>
        <span class="token string">"5GoNkf6WdbxCFnPdAnYYQyCjAKPJgLNxXwPjwTh6DGg6gN3E"</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"code"</span><span class="token operator">:</span> &lt;snip>
    <span class="token punctuation">}</span>
</code></pre>
<p>All we need to do is change the authority addresses listed (currently Alice and Bob) to our own addresses that we generated in the previous step. A single person should do these steps and share the resulting file. with their fellow validators. (Because Rust -&gt; Wasm builds aren't &quot;reproducible&quot;, each person will get a slightly different Wasm blob which will break consensus if each participant generates the file themselves.)</p>
<p>Once the chainspec is prepared, convert it to a &quot;raw&quot; chainspec. The distinction between regular and raw is just that all the field names are encoded as hex in the raw chainspec. Not much interesting to explore there.</p>
<pre><code class="hljs css language-bash">./target/release/node-template build-spec --chain customSpec.json --raw <span class="token operator">></span> customSpecRaw.json
</code></pre>
<p>Finally share the <code>customSpecRaw.json</code> with your all the other validators in the network.</p>
<h3><a class="anchor" aria-hidden="true" id="launching-the-chain"></a><a href="#launching-the-chain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Launching the chain</h3>
<p>You've completed all the necessary prep work and you're now ready to launch your chain. This process is very similar to when you launched a chain earlier as Alice and Bob. It's important to start with a clean base path, so if you plan to use the same path that you've used previously, please delete all contents from that directory.</p>
<p>The first participant can launch her node with</p>
<pre><code class="hljs css language-bash">./target/release/node-template \
  --chain ./customSpecRaw.json \
  --key <span class="token string">"enroll mechanic ... embody"</span> \
  --port 30333 \
  --telemetry-url ws://telemetry.polkadot.io:1024 \
  --validator
</code></pre>
<p>Here are some differences from when we launched as Alice.</p>
<ul>
<li>I've omitted the <code>--base-path</code> flag, so Substrate will use a default location. You're still free to specify your own base path.</li>
<li>For the key, I've used the mnemonic phrase that we generated previously. This must be a phrase that corresponds to one of the addresses in your chainspec.</li>
<li>The <code>--chain</code> flag has changed to use our custom chainspec.</li>
</ul>
<p>Subsequent validators can now join the network as Bob did previously, making sure to use the new chainspec and key. You may bootstrap from <em>any</em> of the nodes already in the network, not just the one that went first.</p>
<blockquote>
<p>All validators must be using identical chain specifications in order to peer together.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="next-steps"></a><a href="#next-steps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next Steps</h2>
<p>Congratulations! You've started your own blockchain!</p>
<p>In this tutorial you've learned to compile the node-template, generate your own keypairs, create a custom chainspec that uses those keypairs, and start a private network based on your custom chainspec and the node-template.</p>
<p>Here are some ideas for what to learn next.</p>
<h3><a class="anchor" aria-hidden="true" id="use-the-full-node"></a><a href="#use-the-full-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use the Full Node</h3>
<p>You can go through a very similar process using Substrate's full node that lives in the <code>node</code> directory rather than the <code>node-template</code> that we used. The process should be familiar to you, and you'll get to explore more runtime modules that are included in the full node.</p>
<h3><a class="anchor" aria-hidden="true" id="add-validators-after-genesis"></a><a href="#add-validators-after-genesis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add Validators After Genesis</h3>
<p>What if you want to add more validators after starting the blockchain? You can't just go back and edit the chainspec at that point. The authority set can be changed after genesis by calling the consensus module's <a href="https://github.com/paritytech/substrate/blob/master/srml/consensus/src/lib.rs#L356-L362"><code>set_authorities</code> function</a>. However, that function can only be called from other runtime modules. If you've built the full node, you can use the democracy module for this task. Or check out the <a href="https://github.com/gautamdhameja/substrate-poa">Substrate POA runtime</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="write-a-custom-runtime"></a><a href="#write-a-custom-runtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Write a Custom Runtime</h3>
<p>Substrate is all about writing your own runtimes, and now that you've gotten your hands dirty, I encourage you to try writing one. Consider one of the <a href="/tutorials/">tutorials</a>.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 9/11/2019 by Shawn Tabrizi</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#compiling-the-tools">Compiling the Tools</a><ul class="toc-headings"><li><a href="#your-first-time">Your First Time</a></li><li><a href="#updating-later">Updating Later</a></li></ul></li><li><a href="#alice-and-bob-start-blockchain">Alice and Bob Start Blockchain</a><ul class="toc-headings"><li><a href="#alice-starts-first">Alice Starts first</a></li><li><a href="#attach-a-ui">Attach a UI</a></li><li><a href="#bob-joins-in">Bob Joins In</a></li></ul></li><li><a href="#generate-your-own-keys">Generate Your Own Keys</a></li><li><a href="#start-your-private-blockchain">Start Your Private Blockchain</a><ul class="toc-headings"><li><a href="#creating-the-chainspec">Creating the chainspec</a></li><li><a href="#launching-the-chain">Launching the chain</a></li></ul></li><li><a href="#next-steps">Next Steps</a><ul class="toc-headings"><li><a href="#use-the-full-node">Use the Full Node</a></li><li><a href="#add-validators-after-genesis">Add Validators After Genesis</a></li><li><a href="#write-a-custom-runtime">Write a Custom Runtime</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><div><style>
#blast {
  position: fixed;
  width: 100%;
  bottom: 0;
  height: 50px;
  background-image: url(/img/bg-sub01.svg); background-size: cover; background-position: right 0px bottom 500px;;
  color: #18FFB2;
  z-index: 99999;
  text-align: center;
  background-color: #000028;
  transition: background-color 0.2s;
}
#blast:hover {
  background-color: #E91E63;
}

#blast h2 {
  margin: 0;
  line-height: 50px;
}

#blast a {
  display: block;
  color: #18FFB2;
  text-decoration: underline;
  mix-blend-mode: lighten;
}

#blast img {
  max-height: 50px;
}

body {
  margin-bottom: 50px;
}
</style><section id="blast"><a href="https://sub0.parity.io" target="_blank"><img src="/img/sub0-blast.png" class="img-fluid"/></a></section></div><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started">Getting Started</a><a href="/en/tutorials">Tutorials</a><a href="/rustdocs/v1.0/">Reference Docs</a><a href="/recipes/">Recipes</a></div><div><h5>Community</h5><a href="/en/videos">Videos</a><a href="/en/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="#" id="cookie-settings">Cookie Settings<script>
              var cookieSettings = document.getElementById('cookie-settings');
              cookieSettings.onclick = function() {
                return klaro.show();
              };
              </script></a></div></section><section class="copyright">Copyright © 2019 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en"]}
              });
            </script></body></html>