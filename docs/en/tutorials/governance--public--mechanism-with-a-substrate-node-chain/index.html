<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Governance &quot;Public&quot; Mechanism with a Substrate Node Chain · Substrate Developer Hub (@5517ab14)</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;This document will walk you through steps to create a Substrate Node, integrate the Substrate SRML &#x27;Referenda&#x27; Module into the Substrate Node&#x27;s Runtime, and then create a &amp;quot;public&amp;quot; referendum for approval using &lt;a href=&quot;https://polkadot.js.org/apps/next/&quot;&gt;Polkadot-JS Apps&lt;/a&gt;.&lt;/p&gt;
"/><meta name="docsearch:version" content="1.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Governance &quot;Public&quot; Mechanism with a Substrate Node Chain · Substrate Developer Hub (@5517ab14)"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="&lt;p&gt;This document will walk you through steps to create a Substrate Node, integrate the Substrate SRML &#x27;Referenda&#x27; Module into the Substrate Node&#x27;s Runtime, and then create a &amp;quot;public&amp;quot; referendum for approval using &lt;a href=&quot;https://polkadot.js.org/apps/next/&quot;&gt;Polkadot-JS Apps&lt;/a&gt;.&lt;/p&gt;
"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)"/><h2 class="headerTitleWithLogo">Substrate Developer Hub (@5517ab14)</h2></a><a href="/en/versions"><h3>1.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/en/docs" target="_self">Docs</a></li><li class=""><a href="/recipes/" target="_self">Recipes</a></li><li class=""><a href="/en/tutorials" target="_self">Tutorials</a></li><li class=""><a href="/en/community" target="_self">Community</a></li><li class=""><a href="https://github.com/paritytech/substrate" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ru/tutorials/governance--public--mechanism-with-a-substrate-node-chain">Русский</a></li><li><a href="/docs/zh-CN/tutorials/governance--public--mechanism-with-a-substrate-node-chain">中文</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io/edit/source/docs/tutorials/governance--public--mechanism-with-a-substrate-node-chain.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Governance &quot;Public&quot; Mechanism with a Substrate Node Chain</h1></header><article><div><span><p>This document will walk you through steps to create a Substrate Node, integrate the Substrate SRML 'Referenda' Module into the Substrate Node's Runtime, and then create a &quot;public&quot; referendum for approval using <a href="https://polkadot.js.org/apps/next/">Polkadot-JS Apps</a>.</p>
<p>We apply governance mechanisms discussed by <a href="https://youtu.be/VsZuDJMmVPY?t=24732">Dr Gavin Wood at EdCon Toronto</a> where the runtime was changed (see screenshot below).</p>
<p>We also explore and reflect upon concepts covered in <a href="https://www.youtube.com/watch?v=0IoUZdDi5Is">Substrate: A Rustic Vision for Polkadot by Dr Gavin Wood at Web3 Summit 2018</a> where he <a href="tutorials/creating-your-first-substrate-chain.md">created a custom Substrate chain</a>.
<img src="https://files.readme.io/160cde4-Screen_Shot_2018-11-27_at_22.07.35.png" alt="Source: https://youtu.be/VsZuDJMmVPY?t=25194"></p>
<p>This tutorial will be written for a Mac OS X machine, and may require some tweaks to get it working on other operating systems.</p>
<h2><a class="anchor" aria-hidden="true" id="prerequisites"></a><a href="#prerequisites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2>
<h3><a class="anchor" aria-hidden="true" id="setup-code-directories"></a><a href="#setup-code-directories" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Code Directories</h3>
<p>We'll be using code from the following Parity Github repositories:</p>
<ul>
<li><a href="https://github.com/paritytech">https://github.com/paritytech</a></li>
<li><a href="https://github.com/polkadot-js">https://github.com/polkadot-js</a></li>
</ul>
<p>So we'll start by creating subdirectories to organise the code that we'll be downloading from them. We'll namespace them to match the Github usernames:</p>
<pre><code class="hljs css language-bash"><span class="token function">mkdir</span> -p ~/code/paritytech ~/code/polkadot-js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="setup-substrate-node"></a><a href="#setup-substrate-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Substrate Node</h3>
<p>Run the following command to install Substrate.</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech<span class="token punctuation">;</span>\ncurl https://getsubstrate.io -sSf <span class="token operator">|</span> sh
</code></pre>
<p>You will also need to set up a few more repositories into your working folder which were used in the demo:</p>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/master/node-template/">Substrate Node Template</a></li>
<li><a href="https://github.com/polkadot-js/apps">Polkadot-JS Apps</a></li>
</ul>
<p>You can do that with some <a href="https://github.com/paritytech/substrate-up">script aliases</a> that were loaded on your machine:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech<span class="token punctuation">;</span>\nsubstrate-node-new my-substrate-node-template-1 my-name
</code></pre>
<p>This will create a folder called 'my-substrate-node-template-1' within directory <code>~/code/paritytech</code>, with the corresponding repository cloned inside. You can of course rename your projects in these commands, but for the sake of the clarity, we will continue with these folder names.</p>
<p>With minimum effort, we've just setup a Substrate Node chain.
<img src="https://files.readme.io/723793b-Screen_Shot_2018-11-18_at_15.29.52.png" alt="Source: https://youtu.be/0IoUZdDi5Is?t=415"></p>
<p><img src="https://files.readme.io/790ee2a-Screen_Shot_2018-11-18_at_15.31.36.png" alt="Source: https://youtu.be/0IoUZdDi5Is?t=1470"></p>
<h3><a class="anchor" aria-hidden="true" id="setup-polkadot-js-apps"></a><a href="#setup-polkadot-js-apps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Polkadot-JS Apps</h3>
<p>We'll also run a couple of other script aliases to install necessary dependencies (Xcode Command Line Tools, Homebrew, Homebrew Cask, RBEnv, Ruby, NVM and Node.js latest LTS, Yarn,) and create a folder called <code>apps</code> within directory ~/code/polkadot-js, containing a clone of the Polkadot-JS Apps repository with a branch that supports PoC-3:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/polkadot-js
polkadot-js-apps-new
</code></pre>
<ul>
<li><strong>FIXME</strong>: Talk about how Polkadot-JS Apps needs to be dynamic, checking what SRML modules are being used by the connected chain and only showing the relevant ones in the UI</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-1-integrate-substrate-srml-referenda-module-into-substrate-node-runtime"></a><a href="#step-1-integrate-substrate-srml-referenda-module-into-substrate-node-runtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Integrate Substrate SRML 'Referenda' Module into Substrate Node Runtime</h2>
<p>We're keen to use some governance mechanisms, but we're stumped because we can't find anything 'governance' related in the <a href="https://github.com/paritytech/substrate/blob/master/node-template/">Substrate Node Template</a> code that we used to create a minimal <strong>Substrate Node chain</strong>.</p>
<p>Fortunately we were tipped by an insider who confirmed that the 'governance' modules that we need aren't yet contained in the Substrate Node's Runtime that we setup in the directory '~/code/paritytech/my-substrate-node-template-1'.</p>
<p>We're reminded of the advantages of the <strong>Substrate (<a href="/docs/en/overview/glossary#srml-substrate-runtime-module-library">SRML</a>)</strong>. We'd like to plugin the 'Referenda' Module and associated configuration from this library into our <strong>Substrate Node's</strong> Runtime, and then tweak it to our liking.</p>
<p><img src="https://files.readme.io/bd2f854-53b8dc8-Screen_Shot_2018-11-18_at_15.31.20.png" alt="Source: https://youtu.be/0IoUZdDi5Is?t=1377"></p>
<ul>
<li><strong>FIXME</strong>: Integrate 'governance' module and configuration into the Runtime of 'my-substrate-node-template-1'</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-2-modify-governance-configuration"></a><a href="#step-2-modify-governance-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Modify Governance Configuration</h2>
<ul>
<li><strong>FIXME</strong>: show how to <a href="https://github.com/polkadot-js/apps/wiki/Troubleshooting">increase the Voting Period</a> before running the Substrate Node, and how to change the value when using <a href="https://github.com/paritytech/substrate/blob/master/node-template/">https://github.com/paritytech/substrate/blob/master/node-template/</a> in the integrated 'governance' module and configuration</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-3-launch-a-substrate-node-blockchain"></a><a href="#step-3-launch-a-substrate-node-blockchain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Launch a Substrate Node Blockchain</h2>
<p>If you have set up everything correctly, you can now start a Substrate dev chain! In directory 'my-substrate-node-template-1' run:</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/paritytech/my-substrate-node-template-1<span class="token punctuation">;</span>\n./target/release/my-substrate-node-template-1 \
  --dev \
  --telemetry-url ws://telemetry.polkadot.io:1024
</code></pre>
<blockquote>
<p>If you run into an error like <code>Error: UnknownBlock: Unknown block Hash(...)</code>, you will need to purge the chain files on your computer, with either of the following commands: <code>cargo run -- --dev purge-chain --dev</code> or <code>rm -rf ~/Library/Application\\ Support/Substrate/chains/development/</code></p>
</blockquote>
<pre><code class="hljs css language-bash">cargo run -- --dev purge-chain --dev
</code></pre>
<p>If everything is working it should start producing blocks, as shown below:
<img src="https://files.readme.io/5ddb46f-4876514-Screen_Shot_2018-11-16_at_11.28.02.png" alt=""></p>
<p>If you want to stop running your Substrate node, you can press CTRL+C</p>
<h2><a class="anchor" aria-hidden="true" id="step-4-launch-ui-of-polkadot-js-apps"></a><a href="#step-4-launch-ui-of-polkadot-js-apps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: Launch UI of Polkadot-JS Apps</h2>
<p>To interact with the Substrate Node, we'll start the UI of Polkadot JS Apps.</p>
<pre><code class="hljs css language-bash"><span class="token function">cd</span> ~/code/polkadot-js/apps
<span class="token function">yarn</span> run start
</code></pre>
<p>Open your browser to <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<p>Go to the 'Settings' menu item. Select option 'Local Node (127.0.0.1:9944)', then click 'Save &amp; Reload'.
<img src="https://files.readme.io/a310b82-d75fe2b-Screen_Shot_2018-11-14_at_13.59.34.png" alt="todo"></p>
<p>It will connect to the local Substrate Node that you're running and update the UI with additional menu items, as shown below:
<img src="https://files.readme.io/4fcefa3-e2836dc-Screen_Shot_2018-11-16_at_11.02.31.png" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="step-6-create-a-public-proposal-using-the-public-mechanism"></a><a href="#step-6-create-a-public-proposal-using-the-public-mechanism" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 6: Create a &quot;Public&quot; Proposal using the &quot;Public&quot; Mechanism</h2>
<blockquote>
<p><strong>Creating &quot;Public&quot; Proposals</strong>
&quot;Public&quot; Proposals (Pre-Referendum) created by &quot;Public&quot; Authorities are Queued and then periodically the most Sponsored (aka Seconded) Proposals are elevated to the Table of Referendum where they may be voted upon. The proposer stakes a deposit (above a minimum) and sponsors must match that deposit.</p>
</blockquote>
<p><strong>Create a Proposal (motion) using the &quot;Public&quot; Mechanism from Charlie to change the balance of Alice's account:</strong></p>
<ul>
<li><p>Go to Extrinsics tab at: <a href="http://localhost:3000/#/extrinsics">http://localhost:3000/#/extrinsics</a></p></li>
<li><p>Select for &quot;Account&quot;: CHARLIE (associated test DOT balance is shown on the right)</p></li>
<li><p>Select for &quot;Extrinsic Section&quot;: democracy</p></li>
<li><p>Select for &quot;Submit the Following Extrinsic&quot;: propose(proposal, value)</p></li>
<li><p>Select for &quot;Proposal Section&quot;: balances</p></li>
<li><p>Select for &quot;Proposal Extrinsic&quot;: setBalance(who, free, reserved)</p>
<ul>
<li>Enter for &quot;who&quot; the address of Alice</li>
</ul></li>
<li><p>Enter for &quot;value: Balance&quot; the amount to increase the account balance by: 100</p></li>
<li><p>Click &quot;Submit Transaction&quot; to add the extrinsic into the 'pending' extrinsics queue.</p></li>
<li><p>Check that the toaster that appears says &quot;author.submitExtrinsic sent&quot;</p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost</p></li>
</ul>
<p><img src="https://files.readme.io/34b7f67-Screen_Shot_2018-11-18_at_09.21.21.png" alt=""></p>
<blockquote>
<p><strong>Pending Extrinsics</strong>
If you're quick enough at querying the 'pending' extrinsics (after clicking Sign &amp; Submit) then you'll see the extrinsic go in and out of the 'pending' extrinsics queue in the response. We'll use the 'Raw RPC' menu item at <a href="https://localhost:3000/#/rpc">https://localhost:3000/#/rpc</a> in the section &quot;author &gt; pendingExtrinsics&quot; to make the JSON-RPC query.</p>
</blockquote>
<p>JSON-RPC queries to the chain database are illustrated below:
<img src="https://files.readme.io/d4ad96d-Screen_Shot_2018-11-18_at_15.30.10.png" alt="Source: https://youtu.be/0IoUZdDi5Is?t=665"></p>
<p><strong>View &quot;Public&quot; Proposals to obtain its Proposal Index</strong></p>
<ul>
<li><p><strong>Option 1</strong></p>
<ul>
<li><p>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></p></li>
<li><p>Select for &quot;query state section&quot;: democracy</p></li>
<li><p>Select for &quot;with state key&quot;: publicProps(): Vec&lt;(PropIndex, Proposal, AccountId)&gt;</p></li>
<li><p>Click the blue coloured &quot;+&quot; icon</p></li>
<li><p>Watch for the list of &quot;Public&quot; Proposals to appear.</p></li>
<li><p>Remember the <code>PropIndex</code>, as Alice will use this Sponsor this &quot;Public&quot; Proposal using its index.</p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost
<img src="https://files.readme.io/6cb16b2-Screen_Shot_2018-11-18_at_09.23.20.png" alt=""></p></li>
</ul></li>
<li><p><strong>Option 2</strong></p>
<ul>
<li><p>Go to Democracy tab at: <a href="http://localhost:3000/#/democracy">http://localhost:3000/#/democracy</a></p></li>
<li><p>View list under &quot;Proposals&quot; heading</p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost and with a proposal in the queue
<img src="https://files.readme.io/1bb34a4-Screen_Shot_2018-11-18_at_09.25.32.png" alt=""></p></li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-7-sponsor-a-public-proposal-using-the-public-mechanism"></a><a href="#step-7-sponsor-a-public-proposal-using-the-public-mechanism" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 7: Sponsor a &quot;Public&quot; Proposal using the &quot;Public&quot; Mechanism</h2>
<blockquote>
<p><strong>Sponsoring &quot;Public&quot; Proposals</strong></p>
<p>Sponsorship (aka Seconding) a Queued &quot;Public&quot; Proposal is performed by another Authority who stakes a deposit value of the same size.</p>
<p>Periodically at fixed intervals the most Sponsored (aka Seconded) &quot;Public&quot; Proposal is taken off the Queue and elevated to being a &quot;Public&quot; Referendum on the Table of Referendum and allocated a Referendum ID, which may be voted upon during the Voting Launch Period. All deposits on the proposal that was elevated are returned to depositors, and those depositors are registered as voting in approval of it.</p>
</blockquote>
<p><strong>Sponsor the Proposal using the &quot;Public&quot; Mechanism using Alice</strong></p>
<ul>
<li><p>Go to Extrinsics tab at: <a href="http://localhost:3000/#/extrinsics">http://localhost:3000/#/extrinsics</a></p></li>
<li><p>Select for &quot;Account&quot;: ALICE (associated test DOT balance is shown on the right)</p></li>
<li><p>Select for &quot;Extrinsic Section&quot;: democracy</p></li>
<li><p>Select for &quot;Submit the Following Extrinsic&quot;: second(proposal)</p></li>
<li><p>Enter for &quot;proposal: PropIndex&quot; the Proposal's Index (obtained in previous step)</p></li>
<li><p>Click &quot;Submit Transaction&quot; to add the extrinsic into the 'pending' extrinsics queue.</p></li>
<li><p>Check that the toaster that appears says &quot;author.submitExtrinsic sent&quot;</p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost and in-built accounts with balance
<img src="https://files.readme.io/2e38dad-Screen_Shot_2018-11-18_at_09.27.17.png" alt=""></p></li>
</ul>
<p><strong>View &quot;Public&quot; Referenda</strong></p>
<ul>
<li><p>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></p>
<ul>
<li>Choose: democracy &gt; <code>nextTally(): ReferendumIndex</code></li>
<li>Choose: democracy &gt; <code>referendumCount(): ReferendumIndex</code></li>
<li>Choose: democracy &gt; <code>referendumInfoOf(ReferendumIndex): ReferendumIndex</code></li>
<li>Choose: democracy &gt; <code>launchPeriod(): BlockNumber</code></li>
</ul></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost
<img src="https://files.readme.io/674a541-Screen_Shot_2018-11-18_at_09.29.22.png&quot;" alt=""></p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-8-referendum-approval-voting"></a><a href="#step-8-referendum-approval-voting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 8: Referendum Approval Voting</h2>
<blockquote>
<p><strong>Referendum Approval Voting</strong></p>
<p>Referendum Approval Voting by Authorities during a Voting Launch Period (during a specific Block Number) is achieved through voting <code>vote</code> on a Referendum ID in the Table of Referendum (includes the most Sponsored &quot;Public&quot; Proposals that were elevated) with a &quot;Standard&quot; Adaptive Quorum Biasing (AQB) that uses a &quot;Positive&quot; turnout bias (i.e. Yes votes), as shown in the screenshot below:</p>
</blockquote>
<p><img src="https://files.readme.io/783d8ee-Screen_Shot_2018-12-17_at_6.25.32_pm.png" alt="Source: https://youtu.be/VsZuDJMmVPY?t=25379"></p>
<p><strong>Referendum Approval Voting</strong></p>
<ul>
<li><p>Go to Extrinsics tab at: <a href="http://localhost:3000/#/extrinsics">http://localhost:3000/#/extrinsics</a></p></li>
<li><p>Select for &quot;Account&quot;: BOB (associated test DOT balance is shown on the right)</p></li>
<li><p>Select for &quot;Extrinsic Section&quot;: democracy</p></li>
<li><p>Select for &quot;Submit the Following Extrinsic&quot;: vote(ref_index, approve_proposal)</p></li>
<li><p>Enter for &quot;ref_index: ReferendumIndex&quot; the Referendum's Index (obtained in previous step)</p></li>
<li><p>Enter for &quot;approve_proposal: bool&quot; your vote</p></li>
<li><p>Click &quot;Submit Transaction&quot; to add the extrinsic into the 'pending' extrinsics queue.</p></li>
<li><p>Check that the toaster that appears says &quot;author.submitExtrinsic sent&quot;</p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost</p></li>
</ul>
<p><img src="https://files.readme.io/58799d7-Screen_Shot_2018-11-18_at_09.30.32.png" alt=""></p>
<blockquote>
<p><strong>Level of Approval</strong></p>
<p>Level of Approval once satisfied for a Referendum ID causes it to be accepted and instantly enacted/executed autonomously.</p>
</blockquote>
<p><strong>Level of Approval Status</strong></p>
<ul>
<li><p>Go to Chain State tab at: <a href="http://localhost:3000/#/chainstate">http://localhost:3000/#/chainstate</a></p></li>
<li><p>Choose: democracy &gt; <code>voteOf((ReferendumIndex, AccountId)): bool</code></p></li>
<li><p>Choose: democracy &gt; <code>votersFor(ReferendumIndex): Vec&lt;AccountId&gt;</code></p></li>
<li><p><strong>FIXME</strong> Update screenshot to use localhost</p></li>
</ul>
<p><img src="https://files.readme.io/7b63db8-Screen_Shot_2018-11-18_at_09.32.30.png" alt=""></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 7/29/2019 by Julien Eluard</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#prerequisites">Prerequisites</a><ul class="toc-headings"><li><a href="#setup-code-directories">Setup Code Directories</a></li><li><a href="#setup-substrate-node">Setup Substrate Node</a></li><li><a href="#setup-polkadot-js-apps">Setup Polkadot-JS Apps</a></li></ul></li><li><a href="#step-1-integrate-substrate-srml-referenda-module-into-substrate-node-runtime">Step 1: Integrate Substrate SRML 'Referenda' Module into Substrate Node Runtime</a></li><li><a href="#step-2-modify-governance-configuration">Step 2: Modify Governance Configuration</a></li><li><a href="#step-3-launch-a-substrate-node-blockchain">Step 3: Launch a Substrate Node Blockchain</a></li><li><a href="#step-4-launch-ui-of-polkadot-js-apps">Step 4: Launch UI of Polkadot-JS Apps</a></li><li><a href="#step-6-create-a-public-proposal-using-the-public-mechanism">Step 6: Create a &quot;Public&quot; Proposal using the &quot;Public&quot; Mechanism</a></li><li><a href="#step-7-sponsor-a-public-proposal-using-the-public-mechanism">Step 7: Sponsor a &quot;Public&quot; Proposal using the &quot;Public&quot; Mechanism</a></li><li><a href="#step-8-referendum-approval-voting">Step 8: Referendum Approval Voting</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div><style>
#blast {
  position: fixed;
  width: 100%;
  bottom: 0;
  height: 50px;
  background-image: url(/img/bg-sub01.svg); background-size: cover; background-position: right 0px bottom 500px;;
  color: #18FFB2;
  z-index: 99999;
  text-align: center;
  background-color: #000028;
  transition: background-color 0.2s;
}
#blast:hover {
  background-color: #E91E63;
}

#blast h2 {
  margin: 0;
  line-height: 50px;
}

#blast a {
  display: block;
  color: #18FFB2;
  text-decoration: underline;
  mix-blend-mode: lighten;
}

#blast img {
  max-height: 50px;
}

body {
  margin-bottom: 50px;
}
</style><section id="blast"><a href="https://sub0.parity.io" target="_blank"><img src="/img/sub0-blast.png" class="img-fluid"/></a></section></div><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub (@5517ab14)" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started">Getting Started</a><a href="/en/tutorials">Tutorials</a><a href="/rustdocs/v1.0/">Reference Docs</a><a href="/recipes/">Recipes</a></div><div><h5>Community</h5><a href="/en/videos">Videos</a><a href="/en/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="#" id="cookie-settings">Cookie Settings<script>
              var cookieSettings = document.getElementById('cookie-settings');
              cookieSettings.onclick = function() {
                return klaro.show();
              };
              </script></a></div></section><section class="copyright">Copyright © 2019 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en"]}
              });
            </script></body></html>